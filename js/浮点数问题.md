# 浮点数问题总结

### 典型问题

```js
//两个简单的浮点数相加
0.1 + 0.2 != 0.3 // true

//toFixed 不会四舍五入（Chrome）
1.335.toFixed(2) // 1.33
```

### 相关疑问

在js数字类型中浮点数的最高精度多少位小数？

### 双精度浮点数（double）

>双精度浮点数在内存中占8个字节、有效数字16位、表示范围：-1.79E+308 ~ +1.79E+308

### IEEE-745浮点数表示法存储结构

- 1位用来表示符号位
- 11位用来表示指数
- 52位表示小数部分

指数偏移量：指数偏移量公式：

> X=2^(k-1)
>
> k为指数位个数（如上图所示双精度浮点数的指数位为11，套用公式即 X=2^{11-1} =1023）
>
> 双精度浮点数的指数偏移量都为1023

### Number.MAX_SAFE_INTEGER 是怎么来的

```js
尾数位数决定了最大的整数范围，在做数值运算时，我们会要求数值以及运算结果必须不能超出 `-Number.MAX_SAFE_INTEGER` ~ `Number.MAX_SAFE_INTEGER` 的范围。
首先这个范围是怎么来的，尾数总共 52 位，加上不存的 1 总共 53 位，所能表达的最大值是 53 位全是 `1`。
`111...111(53 个 1)` = `1000...000(53 个 0) - 1` 也就是 `2^53 - 1`。 
Number.MAX_SAFE_INTEGER = 9007199254740992
```

